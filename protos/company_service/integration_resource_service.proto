syntax="proto3";

package company_service;
option go_package = "genproto/company_service";

import "google/protobuf/empty.proto";
import "company.proto";

service IntegrationResourceService {
    rpc CreateIntegrationResource(CreateIntegrationResourceRequest) returns (IntegrationResource) {}
    rpc GetById(IntegrationResourcePrimaryKey) returns (IntegrationResource) {}
    rpc GetByUsername(GetByUsernameRequest) returns (GetByUsernameResponse) {}
    rpc GetIntegrationResourceList(GetListIntegrationResourceRequest) returns (GetListIntegrationResourceResponse) {}
    rpc UpdateIntegrationResource(UpdateIntegrationResourceRequest) returns (google.protobuf.Empty) {}
    rpc DeleteIntegrationResource(IntegrationResourcePrimaryKey) returns (google.protobuf.Empty) {}
}

message IntegrationResource {
    string id = 1;
    string token = 2;
    string project_id = 3;
    string environment_id = 4;
    string username = 5;
    string name = 6;
    string type = 7;
}

message CreateIntegrationResourceRequest {
    string token = 1;
    string project_id = 2;
    string environment_id = 3;
    string username = 4;   
    string name = 5;
}

message UpdateIntegrationResourceRequest {
    string id = 1;
    string name = 2;
}

message GetByUsernameRequest {
    string username = 1;
}

message IntegrationResourcePrimaryKey {
    string id = 1;
}

message GetByUsernameResponse {
    repeated IntegrationResource integration_resources = 1;
}

message GetListIntegrationResourceRequest {
    string project_id = 1;
    string environment_id = 2;
    ResourceType type = 3;
}

message GetListIntegrationResourceResponse {
    repeated IntegrationResource integration_resources = 1;
}