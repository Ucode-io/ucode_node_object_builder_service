syntax="proto3";
// 
package auth_service;
option go_package="genproto/auth_service";

service LoginStrategyService {
    rpc GetList (GetListRequest) returns (GetListResponse) {}
    rpc GetByID (LoginStrategyPrimaryKey) returns (LoginStrategy) {}
    rpc Upsert (UpdateRequest) returns (UpdateResponse) {}
}

enum LoginStrategyType {
    PHONE_V2 = 0;
    EMAIL_V2 = 1;
    LOGIN_V2 = 2;
    PHONE_OTP_V2 = 3;
    EMAIL_OTP_V2 = 4;
    LOGIN_PWD_V2 = 5;
    PHONE_PWD_V2 = 6;
    EMAIL_PWD_V2 = 7;
    GOOGLE_V2 = 8;
    APPLE_V2 = 9;
}

message UpdateRequest {
    repeated LoginStrategy login_strategies = 1;
}

message UpdateResponse {
    int32 rows_affected = 1;
}

message GetListResponse {
    repeated LoginStrategy login_strategies = 1;
}

message CreateRequest {
    string id = 1;
    string type = 2;
    string project_id = 3;
    string env_id = 4;
}

message LoginStrategy {
    string id = 1;
    string type = 2;
    string project_id = 3;
    string env_id = 4;
}

message GetListRequest {
    string project_id = 1;
}

message LoginStrategyPrimaryKey {
    string id = 1;
}
